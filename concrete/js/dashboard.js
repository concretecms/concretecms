!function(a,b){"use strict";var c=function(){if(b("#ccm-dashboard-result-message").length>0){if(b(".ccm-pane").length>0){var a=b(".ccm-pane").parent().attr("class"),c=b(".ccm-pane").parent().parent().attr("class"),d=b("#ccm-dashboard-result-message").html();b("#ccm-dashboard-result-message").html('<div class="'+c+'"><div class="'+a+'">'+d+"</div></div>").fadeIn(400)}}else b("#ccm-dashboard-result-message").fadeIn(200)},d=function(){var a,c=b("a[data-bookmark-action=add-favorite]"),e=b("a[data-bookmark-action=remove-favorite]"),f=!1;c.length?(f=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/add_favorite",a=c):e.length&&(f=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/remove_favorite",a=e),f&&a.on("click",function(c){c.preventDefault(),b.concreteAjax({dataType:"json",type:"GET",data:{cID:b(this).attr("data-page-id"),ccm_token:b(this).attr("data-token")},url:f,success:function(b){"remove"==b.action?(a.attr("data-bookmark-action","add-favorite"),a.html('<i class="fa fa-lg fa-bookmark-o"></i>')):(a.attr("data-bookmark-action","remove-favorite"),a.html('<i class="fa fa-lg fa-bookmark"></i>')),a.off("click"),d()}})})},e=function(){b("table.ccm-search-results-table tr[data-details-url]").each(function(){b(this).hover(function(){b(this).addClass("ccm-search-select-hover")},function(){b(this).removeClass("ccm-search-select-hover")}).on("click",function(){window.location.href=b(this).data("details-url")})}),b("div.ccm-details-panel[data-details-url]").each(function(){b(this).on("click",function(){window.location.href=b(this).data("details-url")})})},f=function(){0==b("#ccm-tooltip-holder").length&&b("<div />").attr("id","ccm-tooltip-holder").attr("class","ccm-ui").prependTo(document.body),b(".launch-tooltip").tooltip({container:"#ccm-tooltip-holder"})},g=function(){b(".dialog-launch").dialog(),b("div#ccm-dashboard-page").on("click","[data-dialog]",function(){if(b(this).attr("disabled"))return!1;var a=b(this).attr("data-dialog-width");a||(a=320);var c=b(this).attr("data-dialog-height");c||(c="auto");var d;d=b(this).attr("data-dialog-title")?b(this).attr("data-dialog-title"):b(this).text();var e="div[data-dialog-wrapper="+b(this).attr("data-dialog")+"]";jQuery.fn.dialog.open({element:e,modal:!0,width:a,title:d,height:c})})},h=function(){b("div#ccm-dashboard-page").on("click","button[data-action=agree-privacy-policy]",function(){b("div.ccm-dashboard-privacy-policy").hide();var a=CCM_DISPATCHER_FILENAME+"/ccm/system/accept_privacy_policy";b.concreteAjax({dataType:"json",data:{ccm_token:b(this).attr("data-token")},type:"POST",url:a,success:function(a){}})})},i=function(){b("select[data-select=bootstrap]").bootstrapSelectToButton()};a.ConcreteDashboard={start:function(a){f(),c(),g(),i(),e(),d(),h()}}}(this,jQuery);